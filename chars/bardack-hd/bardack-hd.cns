; CNS For Bardack HD by Alive

 
[Data]
life = 3500
attack = 250          
defence = 100         
fall.defence_up = 50  
liedown.time = 60    
airjuggle = 15        
sparkno = 2        
guard.sparkno = 40  
KO.echo = 0           
volume = 0            

[Size]
xscale = 1           
yscale = 1            
ground.back = 15      
ground.front = 15     
air.back = 12         
air.front = 12      
z.width = 3          
height = 60	      
attack.width = 4,4    
attack.dist = 160   
proj.attack.dist = 90  
proj.doscale = 0     

[Velocity]
walk.fwd  = 1.3       
walk.back = -1.2     
run.fwd  = 8.6, 0    
run.back = -6.5,-3.8  
jump.neu = 0,-8.1    
jump.back = -2.55    
jump.fwd = 2.5        
runjump.back = -2.55,-8.1  
runjump.fwd = 4,-8.1      
airjump.neu = 0,-8.1       
airjump.back = -2.55,-8.1  
airjump.fwd = 2.5,-8.1     

[Movement]
airjump.num = 1       
airjump.height = 35   
yaccel = .43          
stand.friction = .85   
crouch.friction = .82  

;------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170]
type = PlaySnd
trigger1 = Time = 6
trigger2 = Time = 33
trigger3 = Time = 60
value = 5,6

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;----------------------------------------------------------------- 
; WIN
[Statedef 180]
type = S

[State 180, 1] ;Vitoria Normal
type = ChangeState
trigger1 = Time = 0
trigger1 = Win = 1
value = 189

[State 180, 1] ; Final
type = ChangeState
trigger1 = Time = 0
trigger1 = Win = 0
value = 9797


[Statedef 9797];da rivedere, sono le scritte (1.0)
type = S
ctrl = 0
velset = 0,0,0

[State 3000,MBS]
type = Explod
trigger1 = AnimElem = 1
anim = 9797
facing = 1
pos = 0,0
postype = left
sprpriority = 1;-2
bindtime = -1
ownpal = 1
supermove = 1
removetime = 99999999999999999999999999

; WIN
[Statedef 189]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 10
range = 10,13

[State 180, 2] ;Win ( crossed arms )
type = VarSet
trigger1 = MatchOver != 1
v = 10
value = 11

[State 180, 2] ;Win2 ( with 'aura' )
type = VarSet
trigger1 = MatchOver = 1
v = 10
value = 12

[State 180, 2] ;Win3 ( low life )
type = VarSet
trigger1 = Life <= 250
v = 10
value = 13

[State 180, 8]
type = ChangeState
trigger1 = var(10) = 11
value = 181

[State 180, 9]
type = ChangeState
trigger1 = var(10) = 12
value = 182

[State 180, 9]
type = ChangeState
trigger1 = var(10) = 13
value = 183

;--------------------------------------------------------------------
; WIN1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 190, kakalotto]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,1

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------
; WIN2
[Statedef 182]
type = S
ctrl = 0
anim = 2828
velset = 0,0,0

[State 3000, 2]; aura
type = Explod
trigger1 = AnimElem = 2
anim = 2829
pos = 0,0 ;controllare 1.0
postype = p1
sprpriority = -2
bindtime = 1
;supermove = 1
removetime = 999999999999999999


[State 182, 2]
type = AssertSpecial
trigger1 = Time = [0,320]
flag = RoundNotOver

[State 190, Ha1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,22


[State 190, Ha2]
type = PlaySnd
trigger1 = Time = 15
value = 0,25


[State 190, chargesnd1]
type = PlaySnd
trigger1 = Time = 13
value = 0,14

[State 190, chargesnd2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,3

[State 190, begin]
type = AssertSpecial
trigger1 = Time = [1,205]
flag = intro

[State 190, 3]
type = ChangeState
trigger1 = AnimTime = 200
value = 0
ctrl = 0

;---------------------------------------------------------------------
; WIN3
[Statedef 183]
type = S
ctrl = 0
anim = 1818
velset = 0,0,0

[State 170]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,6

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

; Continue?
[Statedef 5500]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 5500, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5500)
trigger1 = SelfAnimExist(5300)
value = 170

;--------------------------------------------------------------------
;CROUCH_A
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 15
ctrl = 0
anim = 400

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 23
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkno = S555
sparkxy = 0, -34
hitsound   = S21,4
guardsound = S21,2 
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20

[State 400, 3]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 201, 1];attack sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 5

[State 201, 1];moving sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 28

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;--------------------------------------------------------------------
;CROUCH_B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 410

[State 202, Ha]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,6

[State 202, Moving]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 28

[State 410, 2] ;Gravity
type = VelAdd
trigger1 = AnimElem = 2, [2, 5]
y = 0
x = 1

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 62
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S555
sparkxy = 0, -34
hitsound   = S21,3
guardsound = S21,2
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------
;JUMP_A
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 602, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S555
sparkxy = 0,-74
hitsound   = S21,3
guardsound = S21,2
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3



[State 602, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 400, 3]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 20

[State 602, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;--------------------------------------------------------------------
;JUMP_B 
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 610

[State 202]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 6

[State 202]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 19

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkno = S555
;guard.sparkno = S556
sparkxy = 0, -74
hitsound   = S21,3
guardsound = S21,2
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------

; ---- Blue Ki Ha ----

; Blue Ki-Ha Charging
[Statedef 1800]
type    = S
movetype= A
physics = S
velset = 0,0,0
poweradd = -1000
juggle = 0
ctrl = 0
anim = 1700

[State 200,NoHit]
type = NotHitBy
trigger1 = Time > 60
value = ,NP,SP,NA,SA

[State 1800, chrgvoice] ;Charging Ball Bardack's voice
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 1800, supsnd]
type = PlaySnd
trigger1 = Time = 6
value = 0, 26

[State 1800, 2] 
type = SuperPause
trigger1 = Time = 6
pos = -28,-48
anim = 102
time = 20

[State 1900, ballcharge]
type = Explod
trigger1 = Time = 11
anim = 1701
pos = -30,-28
bindtime = -1
sprpriority = 4
removetime = 54
supermove = 1


[State 1900, chganim]
type = ChangeState
trigger1 = Time = 65
value = 1801

;Blue Ki-Ha Launch
[Statedef 1801]
type    = S
movetype= A
physics = S
velset = 0,0,0
poweradd = -1000
juggle = 0
ctrl = 0
anim = 1702



[State 1800, raio]
type = Projectile
trigger1 = AnimElem = 2
;trigger1 = Anim = 1702
projanim = 1705
projhitanim = 6004
guard.projhitanim = 6005
projhits = 10
projmisstime = 3
projshadow = 1
projpriority = 4
projremovetime = 60
projid = 1705
;velocity = 0.001,0.001
offset = -2,0
attr = S, HP
damage   = 55,7
animtype = heavy
guardflag = MA
hitflag = MAFP
pausetime = 0,3
hitsound   = S5,2 
sparkno = -1 ;S6011
;sparkxy = 0,0
;guard.sparkno = S6022
guardsound = S21,2
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5   
fall = 1
air.animtype = Back
air.velocity = -5,-8
air.juggle = 1
down.velocity = -10
down.hittime = 30
down.bounce = 0
;PalFX
palfx.time = 23
palfx.add = 50,30,130

[State 1800, 6] ;ki-ha launch sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 5, 5
volume = 255

[State 3000, hit] 
type = Explod
trigger1 = ProjHit(6004) = 1
anim = 6011
pos = 0,0
postype = p2
sprpriority = 3
bindtime = 1

[State 3000, guard] 
type = Explod
trigger1 = ProjGuarded(6004) = 1
anim = F40
pos = 0,-30
postype = p2
sprpriority = 3
bindtime = 1

[State 1800, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 70
ampl = 4
freq = 127

[State 3021, 3] 
type = ChangeState
trigger1 = Time = 200
trigger1 = Pos Y < 0
value = 1500

[State 1800, end]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

; ---- Blue Ki-Ha End ----

;---------------------------------------------------------------------
; Combo Sequence
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0
anim = 1050

[State 1050, 2]
type=AfterImage
trigger1= AnimElem = 1 
time=200
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

; -- Sounds

[State 1050, 1ha] ;ha
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
value = 5, 8

[State 1050, 1ha] ;ha
type = PlaySnd
trigger1 = AnimElem = 3 
trigger2 = AnimElem = 4
trigger3 = AnimElem = 10
trigger4 = AnimElem = 11
value = 0, 6

[State 1050, 1ha] ;ha
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 5


[State 1050, 1moving] ;moving
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
value = 0, 19

[State 1050, 1moving] ;moving
type = PlaySnd
trigger1 = AnimElem = 3 
trigger2 = AnimElem = 4
trigger3 = AnimElem = 10
trigger4 = AnimElem = 11
value = 0, 20

[State 1050, 1moving] ;moving
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 28


;-- Velocities

[State 1211, 1] 
type = VelSet
trigger1 = AnimElem != 1
trigger1 = Time >= 0
trigger1 = Time <= 200
x = 0
y = 0


[State 1050, 2] ;Shoulder Hit Shift
type = VelAdd
trigger1 = AnimElem = 1
x = 32 

[State 1050, 3] ;Little Punch
type = VelAdd
trigger1 = AnimElem = 2
x = 4

[State 1050, 4] ;Punch Shift
type = VelAdd
trigger1 = AnimElem = 6
x = 8


[State 1050, 6] ;2nd Shoulder Hit Shift
type = VelAdd
trigger1 = AnimElem = 8
x = 16



[State 1050, 8] ;2nd Punch Sihft
type = VelAdd
trigger1 = AnimElem = 13
x = 8


;-- Hitdefs

[State 1050, 18] ;Shoulder Hit
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 8
attr = S, HP
animtype  = Hard
damage    = 50
guardflag = MA
pausetime = 16,18
sparkno = S555
sparkxy = 31,-40
hitsound   = S21,3
guardsound = S21,2
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 0

[State 1050, 18] ;TwoHit Punches
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 10
trigger4 = AnimElem = 11
attr = S, SA
animtype  = Hard
damage    = 30
guardflag = MA
pausetime = 16,18
sparkno = S555
sparkxy = 0,-70
hitsound   = S21,4
guardsound = S21,2
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 0

[State 1050, 18] ;1st punch
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype  = Hard
damage    = 40
guardflag = MA
pausetime = 16,18
sparkno = S555
sparkxy = 0,-40
hitsound   = S21,3
guardsound = S21,2
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = 10.1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 0

[State 1050, 18] ;Final Punch
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
animtype  = Hard
damage    = 50
guardflag = MA
pausetime = 16,18
sparkno = S555
sparkxy = 0,-40
hitsound   = S21,4
guardsound = S21,2
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 1


;-- Change State

[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 1050, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------

;-- Bardack's Grab

; Grabbing (trying)
[Statedef 800]
type = S
movetype = A
physics = S
anim = 800
velset = 0,0
ctrl = 0

[State 1600, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1stateno = 810
p2stateno = 820

[State 1600, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Grabbing (succeeded)
[Statedef 810]
type = S
movetype = A
physics = S
anim = 810
velset = 0,0

[State 1601, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1601, Laughing]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5,3

[State 1601, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1601, Damage]
type = TargetLifeAdd
trigger1 = AnimTime = 0
value = -100

[State 1601, Bind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,-20 ;0

[State 1601, Bind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 10,-20 ;0

[State 1601, Bind2]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 10,-20 ;0

[State 1601, 12]
type = TargetState
trigger1 = AnimElem = 4
value = 821


[State 1601, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Being Thrown (hit by, on ground)
[Statedef 820]
type    = A
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0

[State 930, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 930, 2]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

; Player 2 State
[Statedef 821]
type    = A
movetype= H ;Get hit
physics = N
velset = 3.5,-8
anim = 5050
ctrl = 0

[State 931, 1]
type = PosAdd
Trigger1 = Time = 0
x =  10
y = -20

[State 931, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = .4

[State 931, 3]
type = LifeAdd
Trigger1 = Time = 0
value = -60

[State 931, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground


;----------------------------------------------------------------------ok, 1.0

;--- Bukujutsu ---

; Bukujutsu (Flying) - start
[Statedef 1510]
type = A
movetype = A
physics = A
juggle  = 7
velset = 0, -8, 0
poweradd= 70
ctrl = 0
anim = 1510

[State 1510, 2]
type = AfterImage
trigger1 = Time = 1
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1510, 2]
type = AfterImageTime
trigger1 = Time = 3
time = 15
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1510, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 28

[State 1510, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 1


;Flying
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1500
velset = 0,0

[State 1500, VarSet]
type = VarSet
Trigger1 = Time = 0
var(3) = 1

[State 1500, Block1]
type = ReversalDef
Trigger1 = Command = "holdback"
Trigger2 = Command = "BB"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S20, 3
p1stateno = 150

[State 1500, RunSnd]
type = PlaySnd
Trigger1 = Command = "FF"
Trigger2 = Command = "BB"
Trigger3 = Command = "DD"
Trigger4 = Command = "UU"
value = 21, 0

[State 1500, Stop1]
type = VelSet
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holdback"
Trigger1 = Command != "holdup"
Trigger1 = Command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0

[State 1500, Stop2]
type = ChangeAnim
Trigger1 = Command != "holdup"
Trigger1 = Command != "holddown"
Trigger1 = Anim != 1500
value = 1500

[State 1500,fuwavar(1)]
type = VarSet
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holdback"
Trigger1 = Command != "holdup"
Trigger1 = Command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 2.4
v = 2
value = 1

[State 1500,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -2.4
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2

[State 1500,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.3

[State 1500,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.3

[State 1500,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = Command = "holdfwd"
Trigger2 = Command = "holdback"
Trigger3 = Command = "holdup"
Trigger4 = Command = "holddown"
y = 0

[State 1500,fuwaEndVar]
type = VarSet
Trigger1 = Command = "holdfwd"
Trigger2 = Command = "holdback"
Trigger3 = Command = "holdup"
Trigger4 = Command = "holddown"
v = 2
value = 0

[State 1500, UpBorder1]
type = PosSet
Trigger1 = Pos Y < -400
y = -400

[State 1500, UpBorder2a]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1

[State 1500, UpBorder2b]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0

[State 1500, Runeffect]
type=AfterImage
type = AfterImage
Trigger1 = Command = "FF"
Trigger1 = Vel X < 8.6
Trigger2 = Command = "BB"
Trigger2 = Vel X > -7
Trigger3 = Command = "DD"
Trigger3 = Vel Y < 8.6
Trigger4 = Command = "UU"
Trigger4 = Vel Y > -7
time=20
trans = add
PalContrast =  80,80,255
PalBright = 10,10,10


[State 1500, RunFwd]
type = VelSet
Trigger1 = Command = "FF"
Trigger1 = Vel X < 8.6
x = 8.6

[State 1500, RunBack]
type = VelSet
Trigger1 = Command = "BB"
Trigger1 = Vel X > -7
x = -7

[State 1500, RunDown]
type = VelSet
Trigger1 = Command = "DD"
Trigger1 = Vel Y < 8.6
y = 8.6

[State 1500, RunUp]
type = VelSet
Trigger1 = Command = "UU"
Trigger1 = Vel Y > -7
y = -7

[State 1500, GoDown1]
type = VelAdd
Trigger1 = Command = "holddown"
y = 0.4

[State 1500,GoDown2]
type = VelSet
Trigger1 = Command = "holddown"
Trigger1 = Vel Y < 0 
y = 0

[State 1500, GoUp1]
type = VelAdd
Trigger1 = Command = "holdup"
y = -0.3

[State 1500,GoUp2]
type = VelSet
Trigger1 = Command = "holdup"
Trigger1 = Vel Y > 0 
y = 0

[State 1500, GoUpAnim]
type = ChangeAnim
Trigger1 = Anim != 1504
Trigger1 = Command = "holdup"
value = 1504

[State 1500, GoBack1]
type = VelAdd
Trigger1 = Command = "holdback"
x = -0.3

[State 1500,GoBack2]
type = VelSet
Trigger1 = Command = "holdback"
Trigger1 = Vel X > 0 
x = 0

[State 1500, GoBackAnim]
type = ChangeAnim
Triggerall = Anim != 1502
Trigger1 = Command = "holdback"
Trigger2 = Command = "holddown"
value = 1502

[State 1500, GoFwd1]
type = VelAdd
Trigger1 = Command = "holdfwd"
x = 0.4

[State 1500,GoFwd2]
type = VelSet
Trigger1 = Command = "holdfwd"
Trigger1 = Vel X < 0 
x = 0

[State 1500, GoFwdAnim]
type = ChangeAnim
Trigger1 = Anim != 1501
Trigger1 = Command = "holdfwd"
value = 1501

[State 1500, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = Command = "holddown"
value = 1503

[State 1500, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1500, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 1500, Land2]
type = ChangeState
Trigger1 = Command = "holdx"
Trigger1 = Command = "holdy"
Trigger1 = Command = "holddown"
value = 50
ctrl = 1

;[State 1500, WinLose]
;type = ChangeState
;Trigger1 = Win
;Trigger2 = Lose
;value = 50

[State 1500,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1202

;Battle End w/ Bukujutsu
[Statedef 1202]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1202

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = Time = 60
value = 1203

[Statedef 1203]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1203

[State 209, 1]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------

; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 20,voltar.pro.voa]
type = ChangeState
trigger1 = Time >= 0
trigger1 = Pos y < 0 
value = 1500

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = Abs(Vel x) < 2
trigger2 = Time = 4
x = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 20,voltar.pro.voa]
type = ChangeState
trigger1 = Time >= 0
trigger1 = Pos y < 0 
value = 1500

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75


[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 20,voltar.pro.voa]
type = ChangeState
trigger1 = Time >= 0
trigger1 = Pos y < 0 
value = 1500


[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 20,voltar.pro.voa]
type = ChangeState
trigger1 = Time >= 0
trigger1 = Pos y < 0 
value = 1500

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20,voltar.pro.voa]
type = ChangeState
trigger1 = Time >= 0
trigger1 = Pos y < 0 
value = 1500

[State 20, 1]
type = VelSet
trigger1 = Command = "holdfwd"
x = Const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = Command = "holdback"
x = Const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = Vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = Vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;Cutuvelada por Traz! (questo era previsto in goku-n-hd, ma non c'era; penso sia capriola, forse poi
; la metterò...)
[Statedef 2299]
type = S
movetype = A
physics = S
anim = 2299
velset = 0,0
ctrl = 0

[State 200, Som_do_soco]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,15

[State 200, Som_do_soco]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,12

[State 2299,1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound = 5,0                  
guardsound = 6,0                 
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[State 2299,Vel]
type = VelAdd
trigger1 = Time >= 5
trigger1 = Time <= 19
trigger2 = Time >= 24
trigger2 = Time <= 35
x = 2
y = 0

[State 2299,Vel.0]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
x = 0
y = 0

[State 2299,vira]
type = Turn
trigger1 = AnimElem = 4
value = 1

[State 2299,fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------

; STAND_A (triple near weakpunches)
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                 
ctrl = 0                     
anim = 200                   
poweradd = 60                

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA                     
damage    = 30                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                                           
pausetime = 7,8                  
numhits = 1                      
sparkno = S555                   
sparkxy = 0,-74             
hitsound = S2,3                  
guardsound = S21,2                
ground.type = High                 
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -4             
airguard.velocity = -1.9         
air.velocity = -1.3,-3  

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 6

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 20

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------

;Stand Strong Right Punch (Stand B)
[Statedef 201]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                  
ctrl = 0                    
anim = 201                   
poweradd = 60                  

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     
damage    = 60                   
animtype = Medium                 
guardflag = MA                   
hitflag = MAF                    
priority = 1, Hit                                           
pausetime = 7,8                  
numhits = 1                      
sparkno = S555                   
sparkxy = 0,-54             
hitsound = S21,4                  
guardsound = S21,2                
ground.type = High                 
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -4             
airguard.velocity = -1.9         
air.velocity = -1.3,-3           

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 20

[State 201, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;-----------------------------

;Stand C - Stand Left Punch
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 9
poweradd= 40
ctrl = 0
anim = 202


[State 202, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage   = 30
animtype = Hard
guardflag = MA
pausetime = 12,6
sparkno = S555
sparkxy =  0,-70
hitsound   = S21,4
guardsound = S21,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -9      
air.velocity = -3,-4.5
airguard.velocity = -3.5     
fall = 1

[State 202]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 6

[State 202]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 19

[State 202, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 202, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------

; STAND_B (knee)
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 210

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 11,11
sparkno = S555
sparkxy = 0, -54
hitsound   = S21,3
guardsound = S21,2
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 6

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 19

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------

; STAND_B (Strong Kick)
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 2
anim = 211

[State 1211, 1] 
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 1;48
x = 4
y = 0

[State 211, 2]
type = HitDef
trigger1 = AnimElem = 2
;trigger2 = AnimElem = 3 
attr = S, NA
animtype  = Light
damage    = 55
guardflag = MA
pausetime = 11,11
sparkno = S555
sparkxy = 0,-60
hitsound   = S21,4
guardsound = S21,2
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 5

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 20

[State 211, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 211, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;--------------------------------------------


;2nd kick type - probably next time...

[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 9
poweradd= 40
ctrl = 0
anim = 212


[State 1211, 1]
type = VelSet
trigger1 = Time >= 1
trigger1 = Time <= 2;48
x = 3
y = 0

[State 212, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage   = 60
animtype = Hard
guardflag = MA
pausetime = 12,6
sparkxy =  -10,-47
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -9      
air.velocity = -3,-4.5
airguard.velocity = -3.5     
fall = 1

[State 202]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 7

[State 202]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 19

[State 212, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 212, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------

;--- Power up ---

;Power up (start)
[Statedef 730]
type = S
movetype = I
physics = S
anim = 730
velset = 0
ctrl = 0

[State 730, tishok]
type = Explod
trigger1 = Time = 0
trigger1 = Pos Y >= 0
anim = F61
pos = -3,0
postype = P1
ownpal = 1
sprpriority = -1
removetime = 12
bindtime = -1

[State 730,3]
type = PlaySnd
trigger1 = Time = 0 ;1
value = 0, 18

[State 730, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 734



[State 735,stopbas]
type = VelSet
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y > 0
x = 0
y = 0

[State 735, Stophaut]
type = VelSet
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y < -200
x = 0
y = 0

[State 730, 5]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A

; Bardack's cry
[Statedef 734]

[State 730,3]
type = PlaySnd
trigger1 = Time = 0
value = 0, 22

[State 730, 4]
type = ChangeState
trigger1 = Time = 0
value = 735

; Power up (doing)
[Statedef 735]
type = S
movetype = I
physics = S

[State 735, 1]
type = ChangeState
trigger1 = Command != "holda"
trigger2 = Command != "holdb"
value = 740

[State 735, 4] ;tishok
type = Explod
trigger1 = Time = 0
trigger1 = Pos Y >= 0
anim = F61
pos = -3,0
postype = P1
ownpal = 1
sprpriority = -1
id = 732
bindtime = -1

[State 730, 4] ;aura
type = Explod
trigger1 = Time = 0
id = 731 
anim = 731
pos = 0,0
postype = p1
bindtime = -1
sprpriority = -1

[State 735,sound]
type = PlaySnd
trigger1 = Time = 0
value = 0,3

[State 735,stopbas]
type = VelSet
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y > 0
x = 0
y = 0

[State 735, Stophaut]
type = VelSet
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y < -200
x = 0
y = 0

[State 735, 18]
type = ChangeAnim
trigger1 = StateType = A
value = 736

[State 735, 5]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A


[State 735,shake] 
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = TimeMod = 4,0
time = 4
ampl = 4
freq = 127

[State 735, 2]
type = PowerAdd
trigger1 = Time = [0,25]
value = 3

[State 735,Clignote]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 12,0
time = 2
add = 64,64,64


[State 735,fuwaVar1]
type = VarSet
triggerall = Pos Y < 0
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
trigger1 = var(2) != 2
trigger2 = var(2)= 2
trigger2 = Vel Y >= 2.4
v = 2
value = 1

[State 735,fuwaVar2]
type = VarSet
triggerall = Pos Y < 0
trigger1 = var(2) = 1
trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 735,fuwaUp]
type = VelAdd
triggerall = Pos Y < 0
trigger1 = var(2) = 1
y = -0.3

[State 735,fuwaDown]
type = VelAdd
triggerall = Pos Y < 0
trigger1 = var(2) = 2
y = 0.3

[State 735,fuwaEnd]
type = VelSet
triggerall = var(2) != 0
triggerall = Pos Y < 0
trigger1 = Command = "holdfwd"
trigger2 = Command = "holdback"
trigger3 = Command = "holdup"
trigger4 = Command = "holddown"
y = 0

[State 735,fuwaEndVar]
type = VarSet
triggerall = Pos Y < 0
trigger1 = Command = "holdfwd"
trigger2 = Command = "holdback"
trigger3 = Command = "holdup"
trigger4 = Command = "holddown"
v = 2
value = 0

[State 735, 2]
type = ChangeState
trigger1 = Power >= 3000
value = 741

[State 735, 3]
type = ChangeState
trigger1 = Time = 25
value = 735

; Power up (end)
[Statedef 740]
type = S
movetype = I
physics = S
anim = 740

[State 740, RemExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 731

[State 740, RemExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 732

[State 740, 6]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 740, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 740, 5]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A

; Power up (maxed out)
[Statedef 741]
type = S
movetype = I
physics = S
anim = 740

[State 740, RemExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 731

[State 740, RemExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 732

[State 741, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,16

[State 741, 5]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A

[State 741, 6]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 741, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------- ok, 1.0

;Little Single Horiz. Blue Fireball (FIREBALL_A)
[Statedef 1000]
type    = S
movetype= A 
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
anim = 1000

[State 220,1] ;1-2 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power < 3000
projanim = 1005
projhitanim = 1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
;projheightbound = 340,50
offset = 39,-60
getpower = 0
velocity = 3,0
attr = S, NP
damage   = 90, 52
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5 ;5,2
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0

[State 220,1] ;3 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power >= 3000
projanim = 1003
projhitanim = 6012;1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
;projheightbound = 340,50
offset = 39,-60
getpower = 0
velocity = 4,0
attr = S, NP
damage   = 110, 72
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5 ;5,2
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0


[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,8
Volume = 255

[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,20
Vaolume = 200

[State 220, 4]
type = PowerAdd
trigger1 = Time = 30
value = -100

[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;Little Single Blue Fireball down(FIREBALL_A)
[Statedef 1001]
type    = S
movetype= A 
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
anim = 1001

[State 220,down];1-2 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power < 3000
projanim = 1006
projhitanim = 1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
getpower = 0
offset = 29,-45
velocity = 2.2,2.2 ;3,3
attr = S, NP
damage   = 90, 52
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0

[State 220,down]; 3 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power >= 3000
projanim = 1008
projhitanim = 6012;1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
getpower = 0
offset = 29,-45
velocity = 3,3
attr = S, NP
damage   = 110, 72
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0


[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,8
Volume = 255

[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,20
Vaolume = 200

[State 220, 4]
type = PowerAdd
trigger1 = Time = 30
value = -100


[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Little Single Blue Fireball up(FIREBALL_A)
[Statedef 1002]
type    = S
movetype= A 
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
anim = 1002

[State 220,up];1-2 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power < 3000
projanim = 1007
projhitanim = 1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
getpower = 0
offset = 29,-90
velocity = 2.2,-2.3
attr = S, NP
damage   = 90, 52
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0

[State 220,up];3 level
type = Projectile
trigger1 = AnimElem = 3
trigger1 = Power >= 3000
projanim = 1016
projhitanim = 6012;1009
projhits = 1
projmisstime = 0
projpriority = 4
projshadow = -1
getpower = 0
offset = 29,-90
velocity = 3,-3
attr = S, NP
damage   = 110, 72
animtype = high
guardflag = MA
hitflag = MAFP
pausetime = 2,4
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = -500,-500
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -10,0
air.animtype = Back
air.velocity = -5,6
air.juggle = 3
air.fall = 1
down.velocity = -10,0
down.hittime = 30
down.bounce = 0
palfx.time = 2
palfx.add = 40,10,0
palfx.mul = 300,192,192
fall = 0


[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,8
Volume = 255

[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,20
Vaolume = 200

[State 220, 4]
type = PowerAdd
trigger1 = Time = 30
value = -100

[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------ 

;Five FIREBALL
[Statedef 1097]
type    = S
movetype= A
physics = S
;poweradd= -700
ctrl = 0
anim = 3250
velset = 0

[State 1097, chrgvoice] ;Charging Ball Bardack's voice
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,18

[State 1097, supereff] 
type = SuperPause
trigger1 = Time = 6
pos = -28,-48
anim = 102
time = 20

[State 1097, 3]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
value = 5, 8

[State 1211, 1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 48
x = 0
y = 0

[State 1000, 4] ;level 2
type = Projectile
triggerall = Power < 3000
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
projanim = 1005
projhitanim = 1009
projpriority = 1
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projshadow = -1
offset = 39, -60
velocity = 2
accel = .2
attr = S, SP
damage   = 90,50
animtype = heavy
guardflag = MA
hitflag = MAFDP
pausetime = 10,10
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = 500,500
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -4,-6
air.juggle = 3
air.fall = 1
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0


[State 1000, 4] ;level 3
type = Projectile
triggerall = Power >= 3000
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
projanim = 1003
projhitanim = 6012;1009
projpriority = 1
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projshadow = -1
offset = 39, -60
velocity = 3
accel = .2
attr = S, SP
damage   = 110,70
animtype = heavy
guardflag = MA
hitflag = MAFDP
pausetime = 10,10
hitsound   = S2, 5
guardsound = S21, 2
sparkxy = 500,500
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -4,-6
air.juggle = 3
air.fall = 1
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0

[State 1500, 3]
type = PowerAdd
trigger1 = AnimTime = 0
value = -1000


[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 1499, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------ 

;Energy Ball Attack (based on VegetaHD's Big Bang Attack)

;Horizontal
[Statedef 7000]
type = S
movetype = A
physics = S
anim = 7000
velset = 0
ctrl = 0
poweradd = -1000

[State 7000,SomSuper]
type = PlaySnd
trigger1 = Time = 1;Time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,18 ;5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 1
pos = -25, -36 ;21, -41
anim = S6015;-1
time = 26

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 1
mul = 170,170,256
invertall = 1
time = 84
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1


[State 2000, charge] ;charging ball
type = Explod
trigger1 = Time = 2
anim = 7025
pos = -27,-35
bindtime = -1
sprpriority = 4
removetime = 84
supermove = 1



[State 7000,SomHit]
type = PlaySnd
trigger1 = ProjContact(7050) = 1
value = 0, 38;7075,0
volume = 255

[State 2000,Fumaça]
type = Explod
trigger1 = ProjContact(7050) = 1
anim = 6010 ;7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 22 ;27
supermovetime = 22 ;27

[State 7000,proj]
type = Projectile
trigger1 = AnimElem = 4 ;Time = 11
projanim = 7050
projid = 7050
offset = 75,-47
velocity = 5.5
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S0,38 ;S7050,0
guardsound = S0,38
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[State 7000, fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;45° UP
[Statedef 7001]
type = S
movetype = A
physics = S
anim = 7001
velset = 0,0
ctrl = 0
poweradd = -1000

[State 7000,SomSuper]
type = PlaySnd
trigger1 = Time = 1;Time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,18 ;5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 1
pos = -25, -36 ;21, -41
anim = S6015;-1
time = 26

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 1
mul = 170,170,256
invertall = 1
time = 84
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1


[State 2000, charge] ;charging ball
type = Explod
trigger1 = Time = 2
anim = 7025
pos = -27,-35
bindtime = -1
sprpriority = 4
removetime = 84
supermove = 1


[State 7000,SomHit]
type = PlaySnd
trigger1 = ProjContact(7050) = 1
value = 0, 38;7075,0
volume = 255

[State 2000,Fumaça]
type = Explod
trigger1 = ProjContact(7050) = 1
anim = 6010 ;7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 22 ;27
supermovetime = 22 ;27

[State 7000,proj]
type = Projectile
trigger1 = AnimElem = 4 ;Time = 11
projanim = 7056
projid = 7050
offset = 35, -67;75,-47
velocity = 5.5,-5 
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S0,38 ;S7050,0
guardsound = S0,38
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[State 7000, fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;45° down
[Statedef 7002]
type = S
movetype = A
physics = S
anim = 7002
velset = 0,0
ctrl = 0
poweradd = -1000

[State 7000,SomSuper]
type = PlaySnd
trigger1 = Time = 1;Time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,18 ;5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 1
pos = -25, -36 ;21, -41
anim = S6015;-1
time = 26

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 1
mul = 170,170,256
invertall = 1
time = 84
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1


[State 2000, charge] ;charging ball
type = Explod
trigger1 = Time = 2
anim = 7025
pos = -27,-35
bindtime = -1
sprpriority = 4
removetime = 84
supermove = 1


[State 7000,SomHit]
type = PlaySnd
trigger1 = ProjContact(7050) = 1
value = 0, 38;7075,0
volume = 255

[State 2000,Fumaça]
type = Explod
trigger1 = ProjContact(7050) = 1
anim = 6010 ;7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 22 ;27
supermovetime = 22 ;27

[State 7000,proj]
type = Projectile
trigger1 = AnimElem = 4 ;Time = 11
projanim = 7055
projid = 7050
offset = 45,-26
velocity = 5.5,5
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S0,38 ;S7050,0
guardsound = S0,38
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------


; Provocation
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0
ctrl = 0

[State 400, 1];kakalotto...
type = PlaySnd
trigger1 = AnimElem = 3
value = 5, 1
Volume = 255

[State 195, 2]
type = CtrlSet
trigger1 = AnimElem = 1
value = 1

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 1
value = 0
ctrl = 1

;----------------------------------------------

;Energy Meteor Attack
[Statedef 1700]
type    = S
movetype= A
physics = S
velset = 0,0,0
poweradd = -3000
juggle = 0
ctrl = 0
anim = 730


[State 730,3]
type = PlaySnd
trigger1 = Time = 0 ;1
value = 0, 18

[State 1800, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 1000
ampl = 2
freq = 127

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 20
add = 170,170,210
time = 5
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 25
add = 220,220,240
time = 10
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 30
add = 170,170,210
time = 5
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

[State 735, 4] ;tishok
type = Explod
trigger1 = AnimElem = 1;Time = 0
trigger1 = Pos Y >= 0
anim = F61
pos = -3,0
postype = P1
ownpal = 1
sprpriority = -1
id = 732
bindtime = -1
removetime = -2 ;200

[State 730, 4] ;aura
type = Explod
trigger1 = AnimElem = 4;Time = 0
id = 731 
anim = 731
pos = 0,0
postype = p1
bindtime = -1
sprpriority = -1
removetime = -2;2000
ignorehitpause = 1



[State 735,sound]
type = PlaySnd
trigger1 = Time = 0
trigger2 = Time = 10
trigger3 = Time = 20
trigger4 = Time = 30
trigger5 = Time = 40
value = 0,3


[State 1700, change]
type = ChangeState
trigger1 = Time = 50;100 ;200
value = 1701

;Blue KiHa
[Statedef 1701]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 0
ctrl = 0
anim = 1700

[State 730, 4] ;aura
type = Explod
trigger1 = Time = 0
id = 731 
anim = 731
pos = 0,0
postype = p1
bindtime = -1
sprpriority = -1
removetime = 2000
ignorehitpause = 1


[State 200,NoHit]
type = NotHitBy
trigger1 = Time > 60
value = ,NP,SP,NA,SA

[State 1800, chrgvoice] ;Charging Ball Bardack's voice
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 1800, supsnd]
type = PlaySnd
trigger1 = Time = 6
value = 0, 26

[State 1800, 2] 
type = SuperPause
trigger1 = Time = 6
pos = -28,-48
anim = 102
time = 20


[State 1900, ballcharge]
type = Explod
trigger1 = Time = 11
anim = 1701
pos = -30,-28
bindtime = -1
sprpriority = 4
removetime = 54
supermove = 1


[State 1900, chganim]
type = ChangeState
trigger1 = Time = 65
value = 1702

;Blue Ki-Ha Launch
[Statedef 1702]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 0
ctrl = 0
anim = 1702

[State 1800, raio]
type = Projectile
trigger1 = AnimElem = 2
;trigger1 = Anim = 1702
projanim = 1705
projhitanim = 6004
guard.projhitanim = 6005
projhits = 20;10
projmisstime = 3
projshadow = 1
projpriority = 4
projremovetime = 60
projid = 1705
;velocity = 0.001,0.001
offset = -2,0
attr = S, HP
damage   = 55,7
animtype = heavy
guardflag = MA
hitflag = MAFP
pausetime = 0,100
hitsound   = S5,2
sparkno = -1 
guardsound = S21,2
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5   
air.animtype = Back
air.velocity = -5,-8
air.juggle = 1
down.velocity = -10
down.hittime = 30
down.bounce = 0
;PalFX
palfx.time = 23
palfx.add = 50,30,130

[State 1800, 6] ;ki-ha launch sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 5, 5
volume = 255

[State 3000, hit] 
type = Explod
trigger1 = ProjHit(6004) = 1
anim = 6011
pos = 0,0
postype = p2
sprpriority = 3
bindtime = 1

[State 3000, guard] 
type = Explod
trigger1 = ProjGuarded(6004) = 1
anim = F40
pos = 0,-30
postype = p2
sprpriority = 3
bindtime = 1

[State 1800, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 70
ampl = 4
freq = 127



[State 1800, end]
type = ChangeState
trigger1 = Time = 80;120
value = 1703
ctrl = 1

;Yellow Fireballs
[Statedef 1703]
type    = S
movetype= A
physics = S
;poweradd= -700
ctrl = 0
anim = 3251
velset = 0

[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
trigger11 = AnimElem = 22
trigger12 = AnimElem = 23
trigger13 = AnimElem = 25
trigger14 = AnimElem = 27
trigger15 = AnimElem = 29
trigger16 = AnimElem = 31
trigger17 = AnimElem = 33
trigger18 = AnimElem = 35
trigger19 = AnimElem = 37
trigger20 = AnimElem = 39
trigger21 = AnimElem = 41
trigger22 = AnimElem = 43
trigger23 = AnimElem = 45
trigger24 = AnimElem = 47
trigger25 = AnimElem = 49
trigger26 = AnimElem = 51
value = 5,8
Volume = 255

[State 1000, Ha!]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
trigger11 = AnimElem = 22
trigger12 = AnimElem = 23
trigger13 = AnimElem = 25
trigger14 = AnimElem = 27
trigger15 = AnimElem = 29
trigger16 = AnimElem = 31
trigger17 = AnimElem = 33
trigger18 = AnimElem = 35
trigger19 = AnimElem = 37
trigger20 = AnimElem = 39
trigger21 = AnimElem = 41
trigger22 = AnimElem = 43
trigger23 = AnimElem = 45
trigger24 = AnimElem = 47
trigger25 = AnimElem = 49
trigger26 = AnimElem = 51
value = 0,20
Volume = 200

[State 1700, supsnd]
type = PlaySnd
trigger1 = AnimElem = 17
value = F20, 0

[State 1700, 2]
type = SuperPause
trigger1 = Time = 0
pos = -28,-48
anim = S6015
darken = 1

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 1
mul = 170,170,256
invertall = 1
time = 2000
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

;yellowfireballs
[State 1000, 4] ;level 3
type = Projectile
;triggerall = Power >= 3000
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
trigger11 = AnimElem = 22
trigger12 = AnimElem = 23
trigger13 = AnimElem = 25
trigger14 = AnimElem = 27
trigger15 = AnimElem = 29
trigger16 = AnimElem = 31
trigger17 = AnimElem = 33
trigger18 = AnimElem = 35
trigger19 = AnimElem = 37
trigger20 = AnimElem = 39
trigger21 = AnimElem = 41
trigger22 = AnimElem = 43
trigger23 = AnimElem = 45
trigger24 = AnimElem = 47
trigger25 = AnimElem = 49
trigger26 = AnimElem = 51
projanim = 1003
projid = 1003
projhitanim = 6012;1009
guard.projhitanim = 6005
projpriority = 1
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projshadow = -1
offset = 39, -60
velocity = 3
accel = .2
attr = S, SP
damage   = 110,70
animtype = heavy
guardflag = MA
hitflag = MAFDP
pausetime = 10,150
hitsound   = S5, 2
guardsound = S21, 2
sparkxy = 500,500
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -1 ;-4,-6
air.juggle = 1;3
;air.fall = 1
down.velocity = -1
down.hittime = 30
down.bounce = 0



[State 1700, animchange]
type = ChangeState
trigger1 = AnimTime = 0
value = 1704;1700

;Energy Ball
[Statedef 1704]
type = S
movetype = A
physics = S
anim = 7000
velset = 0
ctrl = 0


[State 7000,SomSuper]
type = PlaySnd
trigger1 = Time = 1;Time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,18 ;5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 1
pos = -25, -36 ;21, -41
anim = S6015;-1
time = 26

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 1
mul = 170,170,256
invertall = 1
time = 84
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

[State 2000, BGPalFX1]
type = BGPalFX
trigger1 = Time = 2
mul = 170,170,256
invertall = 1
time = 84
persistent = 0
ignorehitpause = 1
under = 1
supermove = 1

[State 2000, charge] ;charging ball
type = Explod
trigger1 = Time = 2
anim = 7025
pos = -27,-35
bindtime = -1
sprpriority = 4
removetime = 84
supermove = 1


[State 7000,SomHit]
type = PlaySnd
trigger1 = Time > 100
trigger1 = ProjContact(7050) = 1
value = 0, 38;7075,0
volume = 255

[State 2000,Fumaça]
type = Explod
trigger1 = Time > 80
trigger1 = ProjContact(7050) = 1
anim = 6010 ;7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 22 ;27
supermovetime = 22 ;27

[State 7000,proj]
type = Projectile
trigger1 = AnimElem = 4 ;Time = 11
projanim = 7050
projid = 7050
offset = 75,-47
velocity = 5.5
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S0,38 ;S7050,0
guardsound = S0,38
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[State 7000, remove]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 731

[State 7000, remove]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 732

[State 7000, fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 1705
ctrl = 1

;Tired
[Statedef 1705]
type = S
physics = S
sprpriority = 0
anim = 170
ctrl = 0

[State 1705, Power]
type = PowerAdd
trigger1 = Time = 0
value = -3000

[State 7000, fim]
type = ChangeState
trigger1 = Time = 500
value = 0
ctrl = 1
;--------------------------------------------------------------------------- ;ok, 1.0
; Bakuhatsu Ha
[Statedef 2600]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2600
ctrl = 0


[State 2600, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2601

;Doing
[Statedef 2601]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2601
ctrl = 0

[State 7000,Som]
type = PlaySnd
trigger1 = Time = 0
value = 5,8

[State 2600,Som]
type = PlaySnd
trigger1 = Time = 0;AnimElem = 2
value = 21,6;0, 38

[State 2600, 1]
type = Projectile
trigger1 = Time = 0;AnimElem = 2
projanim = 2650
;projhitanim = 6013
projhits = 4
projmisstime = 4
projremove = 0
projpriority = 30
projremovetime = 100
projid = 2650
velocity = 0,0
offset = 129,8;59,3
attr = S, SA
animtype  = Hard
damage    = 31,11
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 0,15
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1


[State 2000,Fumaça]
type = Explod
trigger1 = Time > 80
trigger1 = ProjContact(2650) = 1
anim = 6013 ;7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = -2 ;22 ;27
supermovetime = 22 ;27

[State 2600,Fim]
type = ChangeState
trigger1 = Time = 90
value = 2602
ctrl = 1

[Statedef 2602]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2602
ctrl = 0

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------- ok, 1.0

; AutoSearchingBall
[Statedef 2022]
type    = S
movetype= A
physics = S
poweradd = 100
velset = 0,0,0
juggle = 0
ctrl = 0
anim = 6002;1020

[State 210, 1] ;controlla
type = PlaySnd
trigger1 = AnimElem = 4
value = 5, 8

[State 1900, ballcharge]
type = Explod
trigger1 = AnimElem = 1
anim = 1701
pos = -27, -11;-30,-28
bindtime = -1
sprpriority = 4
removetime = 25
supermove = 1

[State 410, 2] ;controlla
type = Helper
trigger1 = AnimElem = 4;2
id = 6001
name = "ball"
pos = 40, -58
postype = p1
stateno = 2023
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1000, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Ball itself
[Statedef 2023]
type    = S
movetype= A
anim = 6001
velset = 3.5,0

[State 2023, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = -1

[State 2023,indo]
type = VelAdd
trigger1 = P2BodyDist X > -20 
trigger1 = Vel X < 0 
x = 0

[State 2023,vindo]
type = VelAdd
trigger1 = P2BodyDist X < -20 
trigger1 = Vel X > -0 
x = -0

[State 2023,descendo]
type = VelAdd
trigger1 = P2BodyDist Y > 50
trigger1 = Vel Y < 0 
Y = 0

[State 2023,subindo]
type = VelAdd
trigger1 = P2BodyDist Y < 50 
trigger1 = Vel Y > -0 
Y = -0

[State 2023, magia falsa] 
type = HitDef
trigger1 = Time = 0
attr = S, SP
damage    = 72,10
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = s6012
guard.sparkno = s6005
sparkxy = 0,0
hitsound = s5,2 
guardsound = s21, 2
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 2023,GoFwd]
type = VelAdd
trigger1 = P2BodyDist X > -20
trigger1 = Vel X < 3 
x = 0.6

[State 2023,GoBack]
type = VelAdd
trigger1 = P2BodyDist X < -20
trigger1 = Vel X > -3 
x = -0.6

[State 2023,GoDown]
type = VelAdd
trigger1 = P2BodyDist Y > 50 
trigger1 = Vel Y < 3 
Y = 0.6

[State 2023,GoUp]
type = VelAdd
trigger1 = P2BodyDist Y < 50
  trigger1 = Vel Y > -3 
Y = -0.6

[State 2023,muteki]
type = NotHitBy
trigger1 = Time > 0
value = ,NA,SA,HA,NT,ST,HT 

[State 2023,GetHit]
type = HitOverride
trigger1 = Time > 0
time = -1
attr = SCA,NP,SP,HP
slot = 0
stateno = 2024

[State 2023, ProjHit]
type = ChangeState
trigger1 = MoveContact = 1
trigger1 = IsHelper(6001)
value = 2024

; Ball itself (end)
[Statedef 2024]
velset = 0,0
anim = 6003

[State 2024,End]
type = DestroySelf
trigger1 = AnimTime = 0

;-------------------------------------------------------- ok, 1.0



;Ki Explosion
[Statedef 1750]
type    = S
movetype= A
physics = S
velset = 0,0,0
poweradd = -500;-3000
juggle = 1
ctrl = 0
anim = 2800



[State 201, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
attr = S, NA                     
damage    = 80                   
animtype = Hard;Medium                 
guardflag = MA                   
;hitflag = MAF                    
;priority = 1, Hit                                           
pausetime = 7,11;7,8                  
numhits = 1                      
sparkno = S6012 ;S555                   
sparkxy = 0,-54             
hitsound = S5,2    
guardsound = S21,2  
ground.type = Trip;High                 
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -4             
airguard.velocity = -1.9         
air.velocity = -1.3,-3           

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5, 8

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 20

[State 201, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------------------------------------

;KI Protection
[Statedef 700]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
ctrl = 0
anim = 730

[State 700, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,18

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = 0, 3
           
[State 1000, 4]
type = Projectile
trigger1 = AnimElem = 1
projanim = 702
;projhitanim = 702
projremovetime = 44
projpriority = 1
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projshadow = -1
offset = 0,0
velocity = 0.01
attr = S, SP
damage   = 90,10
animtype = heavy
guardflag = MA
hitflag = MAFDP
pausetime = 10,10
hitsound   = S5,2 
sparkxy = 500,500
guardsound = S5,2
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -4,-6
air.juggle = 3
air.fall = 1
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 1000, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------- 




[Statedef -2]

[State -2, 1]
type = RemoveExplod
trigger1 = StateNo = 0
trigger2 = StateNo = 1510
trigger3 = StateNo = 2000
trigger4 = StateNo = 1070
trigger5 = StateNo = 1020
trigger6 = StateNo = 1030
trigger7 = StateNo = 1050
trigger8 = StateNo = 1060
trigger9 = StateNo = 1000
trigger10 = StateNo = 1010
trigger11 = StateNo = 5000
trigger12 = StateNo = 5001
trigger13 = StateNo = 5010
trigger14 = StateNo = 5011
trigger15 = StateNo = 5020
trigger16 = StateNo = 5030
trigger17 = StateNo = 5035
trigger18 = StateNo = 5040
trigger19 = StateNo = 5050
trigger20 = StateNo = 5070
trigger21 = StateNo = 5071
trigger22 = StateNo = 5080
trigger23 = StateNo = 5081
trigger24 = StateNo = 40
trigger25 = StateNo = 50
trigger26 = StateNo = 10
trigger27 = StateNo = 20
trigger28 = StateNo = 21
ID = 6050

[State -2, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52
trigger2 = StateNo = 106
value = 0,29


;---------------------------------------------------------------------------
 RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100

[State 100, 1]
type = VelSet
trigger1 = 1
x = 5
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = Command = "holdfwd"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 = Command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
 RUN_BACK
[Statedef 105]
type    = S
physics = S
anim = 105

[State 100, 1]
type = VelSet
trigger1 = 1
x = -5
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = Command = "holdback"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 = Command != "holdback"
value = 0


;------------------------------------------------------

; Meteor Atack (start)
[Statedef 4010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -3000
ctrl = 0
anim = 4010


[State 3000, 1]
type = SuperPause
trigger1 = Time = 0
pos = -26, -137
anim = 30
Time = 20;55
darken = 1

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 0
value = F20, 0 

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 4011
ctrl = 1

;---------------------------------------------------------------------------
; dash
[Statedef 4011]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 70
ctrl = 0
anim = 4011

[State 100, 1]
type = AfterImage
trigger1 = Time = 4
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 100, 1]
type = AfterImageTime
trigger1 = Time >= 4
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 410, 2]
type = PlaySnd
trigger1 = Time = 2
trigger2 = AnimElem = 1
trigger3 = AnimElem = 2
value = 0, 20

[State 410, 2] ;Gravity
type = VelAdd
trigger1 = AnimElem = 2
y = 0
x = 30

[State 410, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = 0, 6 


[State 410, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
animtype  = light
attr = S, NA
damage    = 30, 90
pausetime = 9,12
;guardflag = MA
sparkxy = -10,-30
sparkno = 1
priority = 2, Miss    
sprpriority = -2      
hitsound   = S2,3
guardsound = S21,2
ground.type = Low            
ground.slidetime = 5         
ground.hittime  = 11         
ground.velocity = 1             
p2facing = 1
p2getp1state = 1
p1stateno = 4012

[State 3401, 5]
type = ChangeState
trigger1 = MoveHit = 1
trigger1 = AnimTime = 0
value = 4012

[State 3401, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo
[Statedef 4012]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
anim = 4012

[State 410, 2] ;moving
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
trigger7 = AnimElem = 20
trigger8 = AnimElem = 21
trigger9 = AnimElem = 24
trigger10 = AnimElem = 26
trigger11 = AnimElem = 31
trigger12 = AnimElem = 33
trigger13 = AnimElem = 36
value = 0, 20

[State 410, 2] ;moving
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 13
trigger4 = AnimElem = 20
trigger5 = AnimElem = 24
trigger6 = AnimElem = 31
value = 0, 6

[State 410, 2] ;moving
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 26
trigger6 = AnimElem = 33
trigger7 = AnimElem = 36
value = 5, 4

[State 100, 1]
type = AfterImage
trigger1 = Time = 4
time = 250
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10
;removetime = -2

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
trigger7 = AnimElem = 20
trigger8 = AnimElem = 21
trigger9 = AnimElem = 24
trigger10 = AnimElem = 26
trigger11 = AnimElem = 31
trigger12 = AnimElem = 33
;trigger13 = AnimElem = 36
attr = S, NA
animtype  = light
damage    = 25,20
guardflag = MA
pausetime = 9,11
sparkno = S555 ;0
;guard.sparkno = 
sparkxy = -10,-50 
hitsound   = S2,3
guardsound = S21,2
ground.type = High
ground.slidetime = 0
ground.hittime  = 50;500
ground.velocity = 0
air.velocity = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 36
trigger2 = AnimElem = 37
attr = S, NA
animtype  = Heavy ;light
damage    = 40,30
guardflag = MA
pausetime = 4,0
sparkno = S555 ;0
;guard.sparkno = 
sparkxy = -10,-50 
hitsound   = S2,3
guardsound = S21,2
fall = 1
ground.type = High
ground.slidetime = 0
ground.hittime  = 50;500
ground.velocity = 0, -10
air.velocity = 0, -10


[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0;4013
ctrl = 1

;-------------------------------------------------------- 


; Aerial kick Start
[Statedef 71850]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = IfElse (power >= 3000, 1950, 1850)
poweradd = 130

[State 202] ;controlla
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 6

[State 202] ;controlla
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 19

[State 1601, 1]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10



[State 1601 1]
type = AfterImageTime
trigger1 = Time >= 0
time = 2

[State 1601, 1]
type = VelSet
trigger1 = AnimElem = 1, [0, 11]
x = 7

[State 1601, 1]
type = VelSet
trigger1 = AnimElem = 2, 
x = 7

[State 1601, 1] ;Gravity
type = VelAdd
trigger1 = AnimElem = 1, [0, 11]
y = 2
x = 7

[State 1601, 1]
type = VelMul
trigger1 = AnimTime >= -9
x = .85

[State 1601, 1] ;Back friction
type = VelMul
trigger1 = Vel X < 0
x = .85

[State 1601, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 100,30
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound   = S2,3
guardsound = S21,2
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0
p1stateno = 71851

[State 1200, 5]
type = ChangeState
trigger1 = MoveHit = 1
trigger2 = MoveGuarded = 1
value = 71851

[State 1200, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; Aerial kick (Final) 
[Statedef 71851]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 1851

[State 1211, 1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 48
x = 0
y = 0

[State 1601, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 71852
ctrl = 0

;---------------------------------------------------------------------------
; Aerial kick (Final) 
[Statedef 71852]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 1852

[State 1601, 0]
type = VelSet
trigger1 = AnimElem = 1
x = -6

[State 1601, 0]
type = VelSet
trigger1 = AnimElem = 1 
x = -6

[State 1601, 0] ;Gravity
type = VelAdd
trigger1 = AnimElem = 1
y = -7
x = -6

[State 1601, 0]
type = VelMul
trigger1 = AnimTime >= -9
x = .85

[State 1601, 0] ;Back friction
type = VelMul
trigger1 = Vel X < 0
x = .85

[State 1601, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;--------------------------------------
[Statedef -3]

[State -3,1]
type = LifeAdd
trigger1 = RoundState = 4
trigger1 = Time = 0
kill = 0
value = -1

; Power bar sobe sozinha
[State -3,1]
type = PowerAdd
trigger1 = Time >= 0
trigger1 = PalNo = 1
trigger2 = PalNo = 2
trigger3 = PalNo = 3
trigger4 = PalNo = 4
trigger5 = PalNo = 5
trigger6 = PalNo = 6
trigger7 = PalNo = 7
trigger8 = PalNo = 8
trigger9 = PalNo = 9
trigger10 = PalNo = 10
trigger11 = PalNo = 11
trigger12 = PalNo = 12
value = 1

[State -3,1]
type = VarSet
trigger1 = PalNo = 1
trigger2 = PalNo = 2
trigger3 = PalNo = 3
trigger4 = PalNo = 4
trigger5 = PalNo = 5
trigger6 = PalNo = 6
trigger7 = PalNo = 7
trigger8 = PalNo = 8
trigger9 = PalNo = 9
trigger10 = PalNo = 10
trigger11 = PalNo = 11
trigger12 = PalNo = 12
v = 1
value = 1





;Instantaneous Movement
[Statedef 2001]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 2001
ctrl = 0
facep2 = 1

[State 2001, Pause1]
Type = SuperPause
Trigger1 = Time = 0
MoveTime = 20
Time = 20
Pos = 9999, -9999
Darken = 0

[State 2001, Pause2]
Type = SuperPause
Trigger1 = Time = 0
Trigger2 = AnimTime = 0
MoveTime = 25
Time = 25
Pos = 9999, -9999
Darken = 0

[State 2001, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2001, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 20
trans = add
palfx = 200,200,200

[State 2001, TeleportFwd]
type = PosAdd
Trigger1 = AnimElem = 2
Trigger1 = Command != "holdback"
Trigger1 = Command != "holdup"
x = 400
y = 0

[State 2001, TeleportFwdUp]
type = PosAdd
Trigger1 = AnimElem = 2
Trigger1 = Command = "holdup"
Trigger1 = Command = "holdfwd"
Trigger1 = Command != "holdback"
Trigger1 = Command != "holddown"
x = 400
y = -100

[State 2001, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 2
Trigger1 = Command = "holdback"
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holdup"
x = -400
y = 0

[State 2001, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 2
Trigger1 = Command = "holdback"
Trigger1 = Command = "holdup"
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holddown"
x = -400
y = -100

[State 2001, TeleportUp]
type = PosAdd
Trigger1 = AnimElem = 2
Trigger1 = Command = "holdup"
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holdback"
x = 0
y = -100

[State 2001, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2001, 3]
type = Projectile
Trigger1 = AnimElem = 1
projanim = 2002
projremovetime = 40
velocity = 0
offset = 0

[State 2001, 4]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2003
ctrl = 1

[State 2001, 7]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2001, 8]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 0,16

;----------------------------------------------------------------------------------------
;Instantaneous Movement - Reappear Image
[Statedef 2003]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 2003
ctrl = 0
facep2 = 1

[State 2003, 0]
type = AfterImage
Trigger1 = AnimElem = 1
time = 20
trans = add
palfx = 200,200,200

[State 2003, 1]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 0,16

[State 2003, 2]
type = Projectile
Trigger1 = Time = AnimElem = 1
projanim = 2002
projremovetime = 50
velocity = 0
offset = 0

[State 2003, 5]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Uppercut
[Statedef 412]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
anim = 401

[State 410, 2] ;rivedere
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
value = 0, 20

[State 410, 2] ;rivedere
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Heavy ;light
damage    = 40,30
guardflag = MA
pausetime = 4,0
sparkno = S555 ;0
;guard.sparkno = 
sparkxy = -10,-50 ;rivedere
hitsound   = S2,5
guardsound = S21,2
fall = 1
ground.type = High
ground.slidetime = 0
ground.hittime  = 50;500
ground.velocity = 0, -10
air.velocity = 0, -10


[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0;4013
ctrl = 1

;-------------------------------------------------------- 

; Round Kick
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
anim = 1210

[State 410, 2] ;rivedere
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
value = 0, 20

[State 410, 2] ;rivedere
type = PlaySnd
trigger1 = AnimElem = 1
value = 5,4

[State 100, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 50
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
attr = S, NA
animtype  = Heavy ;light
damage    = 70,60
guardflag = MA
pausetime = 8,20
sparkno = S6009 ;0
;guard.sparkno = 
sparkxy = 0,-50 
hitsound   = S5,7 
guardsound = S21,2
fall = 1
ground.type = High
ground.slidetime = 0
ground.hittime  = 50;500
ground.velocity = 0,-2
air.velocity = 0,-2


[State 210, 4]
type = ChangeState
trigger1 = AnimElem = 5
value = 0
ctrl = 1

;--------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 191, 0]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = intro

[State 191]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 1

