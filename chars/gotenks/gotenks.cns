; Player's constants.
; Format (case insensitive):
;  [groupname]        
;  constname = "value"

[Data]
life = 2000          ;Amount of life to start with
power = 150
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 60    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 2        ;Default spark number
guard.sparkno = 40 ;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 0           ;Volume offset (negative for softer)

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 15    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   

[Velocity]
walk.fwd  = 2.3      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 8, 0    ;Run forward (x, y)  - if y<0, player will hop
run.back = -7.9,-3.8 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-8.1    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55,-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5,-8.1    ;.

[Movement]
airjump.num = 1      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 180, 1]
type = AssertSpecial
trigger1 = Time = [0,240]
flag = roundnotover

[State 180, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3,10

[State 180, 3]
type = PlaySnd
trigger1 = Time = 140
value = 4,2

;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,220]
flag = intro

[State 191, 2]
type = powerset
trigger1 = time = 0
value = 0

[State 191, 3]
type = PlaySnd
trigger1 = Time = 0
value = 3,1

;Exhausted/Tired
[Statedef 5300]
type = S
ctrl = 0
velset = 0,0,0
anim = 5305

[State 5300, add1]
type = varset
trigger1 = time = 0
var(20) = 0

[State 5300, add2]
type = varset
trigger1 = time = 0
var(17) = 0

[State 5300, add3]
type = varset
trigger1 = time = 0
var(18) = 0

[State 5300, 1]
type = Changestate
trigger1 = Time >= 300
value = 0
ctrl = 1

;--------------------------------------------------------------------------------
; PUNCH_A
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 10
ctrl = 0
velset = 0,0,0
anim = 200

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,8

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 45
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-28
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Kick_B
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 10
ctrl = 0
velset = 0,0,0
anim = 210

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 45
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-25
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Jump_Missile
[Statedef 230]
type     = S
movetype = A
physics  = S
poweradd = -200
juggle = 1
anim = 230
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 230, 1]
type = Projectile
trigger1 = time = 18
Projanim = 231
ProjHitAnim = 235
ProjRemAnim = 235
projpriority = 2
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 130,40
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-30
hitsound   = 5,2
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = high
air.velocity = -2.5,-5.5
air.juggle = 3
fall = 1

[State 230, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 230, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 230, 4]
Type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

; Rolling_Thunder_Uppercut
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 18
poweradd= -120
ctrl = 0
velset = 0,0
anim = 250

[State 250, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 8

[State 250, 2]
type = PlaySnd
trigger1 = Time = 25
value = 3, 8

[State 250, 3]
type = PlaySnd
trigger1 = Time = 50
value = 3, 8

[State 250, 4]
type = HitDef
trigger1 = Time >= 0
attr = S, SA
animtype  = Medium
damage    = 150,50
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-30
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.velocity = 0,-6
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
fall = 1

[State 250, 5]
type = AfterImage
Trigger1 = time = 75
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 45

[State 250, 6]
type = ChangeState
trigger1 = movecontact = 1
value = 255
ctrl = 0

[State 250, 7]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 250, 8]
type = VelSet
trigger1 = Time > 75
x = 8

[State 250, 9]
type = ChangeState
trigger1 = Time = 120
value = 0
ctrl = 1

; Rolling_Thunder_Uppercut
[Statedef 255]
type    = A
movetype= A
physics = S
juggle  = 18
poweradd= 0
ctrl = 0
velset = 0,0
anim = 255

[State 255, 1]
type = HitDef
trigger1 = Time >= 0
attr = S, SA
animtype  = Medium
damage    = 150,50
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-30
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.velocity = 0   
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
fall = 1

[State 255, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 20

[State 255, 3]
type = ChangeState
trigger1 = Time = 30
value = 52
ctrl = 1

[State 255, 4]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 10
x = 0
y = -6

[State 255, 5]
type = VelSet
trigger1 = Time > 10
trigger1 = Time <= 20
trigger2 = time > 20
trigger2 = var(12) = 0
trigger2 = Pos Y < 0
trigger3 = time > 20
trigger3 = var(12) = 1
trigger3 = Pos Y < -110
x = 0
y = 6

[State 255, 6]
type = VelSet
trigger1 = Time >= 21
trigger1 = var(12) = 0
trigger1 = Pos Y >= 0
trigger2 = Time >= 21
trigger2 = var(12) = 1
trigger2 = Pos Y <= -110
x = 0
y = 0

;---------------------------------------------------------------------
; Wild_Boar
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 260
poweradd = -100

[State 260, 1]
type = HitDef
trigger1 = Time = 30
attr = S, SA
damage    = 70,28
getpower = 0
givepower = 0
animtype = Medium
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 7,8
numhits = 1
sparkno = 0
sparkxy = 0, -30
hitsound = 5,0
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
airguard.velocity = -1.9    
air.velocity = -1.3,-3

[State 260, 2]
type = HitDef
trigger1 = Time = 70
attr = S, SA
damage    = 70,28
getpower = 0
givepower = 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7,8
numhits = 2
sparkno = 0
sparkxy = 0, -30
hitsound = 5,0
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
airguard.velocity = -1.9    
air.velocity = -1.3,-3

[State 260, 3]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 74

[State 260, 4]
type = PlaySnd
trigger1 = Time = 2
value = 3, 0

[State 260, 5]
type = ChangeState
trigger1 = Time = 76
value = 0
ctrl = 1

[State 260, 6]
type = VelSet
trigger1 = Time = 75
x = 0

[State 260, 7]
type = VelSet
trigger1 = Time < 75
trigger1 = Time > 25
x = 3

[State 260, 8]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

;---------------------------------------------------------------------
;Multi_Fire
[Statedef 280]
type     = S
movetype = A
physics  = S
poweradd = -333
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 280, 1]
type = Projectile
trigger1 = time = 9
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 70,20
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 280, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 280, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 280, 4]
Type = ChangeState
trigger1 = time = 50
value = 282
ctrl = 0

;Multi_Fire2
[Statedef 282]
type     = S
movetype = A
physics  = S
poweradd = -333
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 282, 1]
type = Projectile
trigger1 = time = 9
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 70,20
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 282, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 282, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 282, 4]
Type = ChangeState
trigger1 = time = 50
value = 283
ctrl = 0

;Multi_Fire
[Statedef 283]
type     = S
movetype = A
physics  = S
poweradd = -333
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 283, 1]
type = Projectile
trigger1 = time = 9
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 70,20
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3
fall = 1

[State 283, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 283, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 283, 4]
Type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

; Rolling_Attack
[Statedef 290]
type = S
movetype = A
physics = S
velset = 0,0,0
poweradd = -1999
ctrl = 0
anim = 290

[State 290, 1]
type = HitDef
trigger1 = Time >= 0
attr = S, SA
animtype  = light
damage    = 3,1
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 15,-25
hitsound   = 5,1
guardsound = 6,0
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0

[State 290, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 50

[State 290, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 290, 4]
type = ChangeState
trigger1 = Time = 52
value = 0
ctrl = 1

[State 290, 5]
type = VelSet
trigger1 = Time = 50
x = 0

[State 290, 6]
type = VelSet
trigger1 = Time < 50
x = 3

; Shine_Missile
[Statedef 300]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 300, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 300, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,4

[State 300, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 300, 4]
Type = ChangeState
trigger1 = time = 15
value = 301
ctrl = 0

; Shine_Missile2
[Statedef 301]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 301, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 301, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 301, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 301, 4]
Type = ChangeState
trigger1 = time = 15
value = 302
ctrl = 0

; Shine_Missile
[Statedef 302]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 302, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 302, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 302, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 302, 4]
Type = ChangeState
trigger1 = time = 15
value = 303
ctrl = 0

; Shine_Missile
[Statedef 303]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 303, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 303, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 303, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 303, 4]
Type = ChangeState
trigger1 = time = 15
value = 304
ctrl = 0

; Shine_Missile
[Statedef 304]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 304, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 304, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 304, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 304, 4]
Type = ChangeState
trigger1 = time = 15
value = 305
ctrl = 0

; Shine_Missile
[Statedef 305]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 305, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 305, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 305, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 305, 4]
Type = ChangeState
trigger1 = time = 15
value = 306
ctrl = 0

; Shine_Missile
[Statedef 306]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 306, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 306, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 306, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 306, 4]
Type = ChangeState
trigger1 = time = 15
value = 307
ctrl = 0

; Shine_Missile
[Statedef 307]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 307, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 307, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 307, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 307, 4]
Type = ChangeState
trigger1 = time = 15
value = 308
ctrl = 0

; Shine_Missile
[Statedef 308]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 308, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 308, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 308, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 308, 4]
Type = ChangeState
trigger1 = time = 15
value = 309
ctrl = 0

; Shine_Missile
[Statedef 309]
type     = S
movetype = A
physics  = S
poweradd = -399
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 309, 1]
type = Projectile
trigger1 = time = 3
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 50,15
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3
fall = 1

[State 309, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 309, 3]
type = ChangeState
trigger1 = power < 1000
value = 0
ctrl = 1

[State 309, 4]
Type = ChangeState
trigger1 = time = 15
value = 0
ctrl = 1

; Kamikaze_Ghost
[Statedef 360]
type     = S
movetype = A
physics  = S
poweradd = -999
juggle = 20
anim = 360
ctrl = 0
velset = 0

[State 360, 1]
type = PlaySnd
trigger1 = Time = 20
channel = 0
value = 3,6

[State 360, 2]
type = Projectile
trigger1 = time = 70
Projanim = 370
ProjHitAnim = 237
ProjRemAnim = 237
projrpiority = 15
velocity = 1,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, HP
animtype = Medium
damage = 7,3
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,2
projhits = 30
sparkno = 1
guard.sparkno = -1
sparkxy = 30,-30
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -1,-5.5
air.juggle = 3

[State 360, 3]
type = ChangeState
trigger1 = time = 80
trigger1 = power >= 2000
value = 361
ctrl = 0

[State 360, 4]
Type = ChangeState
trigger1 = time = 160
value = 0
ctrl = 1

; Kamikaze_Ghost2
[Statedef 361]
type     = S
movetype = A
physics  = S
poweradd = -999
juggle = 20
anim = 360
ctrl = 0
velset = 0

[State 361, 1]
type = PlaySnd
trigger1 = Time = 20
channel = 0
value = 3,6

[State 361, 2]
type = Projectile
trigger1 = time = 70
Projanim = 370
ProjHitAnim = 237
ProjRemAnim = 237
projpriority = 15
velocity = 1,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, HP
animtype = Medium
damage = 7,3
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,2
projhits = 30
sparkno = 1
guard.sparkno = -1
sparkxy = 30,-30
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -1,-5.5
air.juggle = 3

[State 361, 3]
type = ChangeState
trigger1 = time = 80
trigger1 = power >= 2000
value = 362
ctrl = 0

[State 361, 4]
Type = ChangeState
trigger1 = time = 160
value = 0
ctrl = 1

; Kamikaze_Ghost
[Statedef 362]
type     = S
movetype = A
physics  = S
poweradd = -999
juggle = 20
anim = 360
ctrl = 0
velset = 0

[State 362, 1]
type = PlaySnd
trigger1 = Time = 20
channel = 0
value = 3,6

[State 362, 2]
type = Projectile
trigger1 = time = 70
Projanim = 370
ProjHitAnim = 237
ProjRemAnim = 237
projpriority = 15
velocity = 1,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, HP
animtype = Medium
damage = 7,3
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,2
projhits = 30
sparkno = 1
guard.sparkno = -1
sparkxy = 30,-30
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -1,-5.5
air.juggle = 3
fall = 1

[State 362, 3]
Type = ChangeState
trigger1 = time = 160
value = 0
ctrl = 1

;CROUCH_A
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 10
ctrl = 0
anim = 400

[State 400, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 8

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
animtype = Back
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = 0,-40
sparkno = 1
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5, -5
air.velocity = -1.2,-5
guard.velocity = -5
fall = 1

[State 400, 3]
type = ChangeState
trigger1 = var(12) = 0
trigger1 = AnimTime = 0
value = 10
ctrl = 1

[State 400, 4]
type = ChangeState
trigger1 = var(12) = 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 10
ctrl = 0
anim = 410

[State 410, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 410, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-10
sparkno = 1
hitsound   = 5,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 410, 3]
type = ChangeState
trigger1 = var(12) = 0
trigger1 = AnimTime = 0
value = 10
ctrl = 1

[State 410, 4]
type = ChangeState
trigger1 = var(12) = 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Kick_Y
[Statedef 415]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -60
ctrl = 0
velset = 0,0,0
anim = 415

[State 415, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 415, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 2,5    ;2,10
numhits = 1
sparkxy = 10,-52
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 415, 3]
type = ChangeState
trigger1 = power < 1
value = 5300
ctrl = 0

[State 415, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Kick_Y2
[Statedef 416]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -60
ctrl = 0
velset = 0,0,0
anim = 416

[State 416, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,8

[State 416, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
numhits = 1
pausetime = 2,5    ;2,10
sparkxy = 0, -25
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 416, 3]
type = ChangeState
trigger1 = power < 1
value = 5300
ctrl = 0

[State 416, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; PUNCH_X
[Statedef 425]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -60
ctrl = 0
velset = 0,0,0
anim = 425

[State 425, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,8

[State 425, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
numhits = 1
pausetime = 2,5    ;2,10
sparkxy = 0,-35
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 425, 3]
type = ChangeState
trigger1 = power < 1
value = 5300
ctrl = 0

[State 425, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Punch_X2
[Statedef 426]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -60
ctrl = 0
velset = 0,0,0
anim = 426

[State 426, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 426, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 2,5    ;2,10
numhits = 1
sparkxy = 0,-35
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 426, 3]
type = ChangeState
trigger1 = power < 1
value = 5300
ctrl = 0

[State 426, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; Charge
[Statedef 480]
type    = S
movetype= I
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 480
poweradd = 0
facep2 = 1

[State 480, 1]
type = Poweradd
trigger1 = Time >= 0
value = 4

[State 480, 2]
type = PlaySnd
trigger1 = Time%29 = 0
trigger1 = Stateno = 480
channel = 0
value = 3,3

[State 480, 3]
type = StopSnd
trigger1 = command != "Charge"
trigger2 = power = 5000
channel = 0

[State 480, 4]
type = ChangeState
trigger1 = command != "Charge"
trigger2 = power = 5000
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_A
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 10
ctrl = 0
anim = 600

[State 600, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 8

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 45
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = HA
pausetime = 12,12
sparkxy = 10,-35
sparkno = 1
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 600, 3]
type = VelSet
trigger1 = AnimTime = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
trigger3 = var(12) = 1
trigger3 = Pos Y >= -110
x = 0
y = 0

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
value = 52
ctrl = 1

[State 600, 5]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y >= -110
y = -110

[State 600, 6]
type = ChangeState
trigger1 = var(12) = 1
trigger1 = Pos Y >= -110
value = 52
ctrl = 1

;JUMP_B
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 10
ctrl = 0
anim = 610

[State 610, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 610, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 45
getpower  = 0
givepower = 0
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = 0,-40
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 3]
type = VelSet
trigger1 = AnimTime = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
trigger3 = var(12) = 1
trigger3 = Pos Y >= -110
x = 0
y = 0

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
value = 52
ctrl = 1

[State 610, 5]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y >= -110
y = -110

[State 610, 6]
type = ChangeState
trigger1 = var(12) = 1
trigger1 = Pos Y >= -110
value = 52
ctrl = 1

; Ultra Head Butt
[Statedef 630]
type = S
movetype = A
physics = S
poweradd = -160
velset = 0,0,0
ctrl = 0
anim = 630

[State 630, 1]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
damage    = 70
numhits = 1
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-30
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 630, 2]
type = HitDef
trigger1 = Time = 50
attr = S, SA
animtype  = Medium
damage    = 70
numhits = 2
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-30
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 630, 3]
type = HitDef
trigger1 = Time = 70
attr = S, SA
animtype  = Medium
damage    = 70
numhits = 3
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-30
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 630, 4]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 99

[State 630, 5]
type = PlaySnd
trigger1 = Time = 2
value = 3, 0

[State 630, 6]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 630, 7]
type = ChangeState
trigger1 = Time = 102
value = 0
ctrl = 1

[State 630, 8]
type = VelSet
trigger1 = Time = 100
x = 0

[State 630, 9]
type = VelSet
trigger1 = Time < 100
x = 3

; Galactic_Donut
[Statedef 680]
type     = S
movetype = A
physics  = S
poweradd = -2999
juggle = 1
anim = 680
ctrl = 0
velset = 0,0,0

[State 680, 1]
type = Projectile
trigger1 = time = 40
Projanim = 1042
ProjHitAnim = 1092
ProjRemAnim = 1092
projpriority = 20
;offset 25,-56
velocity = 1,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, HP
animtype = light
damage = 200,80
getpower = 0
givepower = 0
;guardflag = M-
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = high
ground.slidetime = 0
ground.hittime  = 600
ground.velocity = 0
p1stateno = 681
p2stateno = 682
fall = 1

[State 680, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,4

[State 680, 3]
type = ChangeState
trigger1 = power < 1
value = 5300
ctrl = 0

[State 680, 4]
Type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1

; Galactic_Donut
[Statedef 681]
type     = S
movetype = I
physics  = S
poweradd = 0
juggle = 1
anim = 680
ctrl = 0
velset = 0,0,0

[State 681, 1]
type = ChangeState
trigger1 = time >= 0
value = 0
ctrl = 1

; Galactic_Donut
[Statedef 682]
type     = A
movetype = I
physics  = S
poweradd = 0
juggle = 1
ctrl = 0
velset = 0,0,0

[State 682, 0]
type = changeanim2
trigger1 = time = 0
value = 682

[State 682, 1]
type = palfx
trigger1 = 1
time = 1
add = 280,180,80

[State 682, 1]
type = SelfState
trigger1 = time >= 600
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Air_Missile
[Statedef 700]
type     = S
movetype = A
physics  = S
poweradd = -200
juggle = 1
anim = 700
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 700, 1]
type = Projectile
trigger1 = time = 20
Projanim = 705
ProjHitAnim = 236
ProjRemAnim = 236
projpriority = 2
;offset 25,-56
velocity = 4,-4
remvelocity = .7,-.7
velmul = 1.005,1.005
accel =0,0
attr = S, SP
animtype = Medium
damage = 110,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 700, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 700, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 700, 4]
Type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;Throw
[Statedef 900]
type = S
movetype = A
physics = S
poweradd = -40
velset = 0,0
ctrl = 0
anim = 900

[State 900, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
guardflag = A
priority = 1
damage = 125
getpower = 0
givepower = 0
sparkno = -1
guard.sparkno = -1
snap = 40,-80
P1facing = 1
p2facing = 1
p1stateno = 910
p2stateno = 920
p2getp1state = 1
sprpriority = -1

[State 900, 2]
type = ChangeState
trigger1 = Time = 16
value = 0
ctrl = 1

[State 900, 3]
type = ChangeState
trigger1 = movecontact = 1
value = 910
ctrl = 1

;---------------------------------------------------------------------------
;P1 Throw
[Statedef 910]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
anim = 910

[State 910, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3,0

[State 910, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;P2 Thrown
[Statedef 920]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 920, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 920

[State 920, 2]
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = Pos Y >= -20
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 920, 3]
type = VelSet
trigger1 = Time = 0
x = 0
y = -3

[State 920, 4]
type = VelSet
trigger1 = Time = 40
x = 0
y = 3

[State 920, 6] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 920, 7] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 920, 10] ;Hit ground
type = SelfState
trigger1 = Pos Y >= -65
trigger1 = time >= 41
value = 5100 ;Hit ground
ctrl = 1

;---------------------------------------------------------------------------
;Standfire_a
[Statedef 1000]
type     = S
movetype = A
physics  = S
poweradd = -200
juggle = 1
anim = 1000
ctrl = 0
velset = 0,0,0

[state 280, add1]
type = varset
trigger1 = time = 0
var(17) = 1

[State 280, add2]
type = varadd
trigger1 = time = 0
v = 20
value = 1

[state 280, add3]
type = changestate
trigger1 = var(20) = 5
value = 5300
ctrl = 0

[State 1000, 1]
type = Projectile
trigger1 = time = 12
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1006
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, NP
animtype = Medium
damage = 110,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1000, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3,0

[State 1000, 3]
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1
value = 5300
ctrl = 0

[State 1000, 4]
Type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;Fly - going up
[Statedef 767]
type = A
movetype = I
physics = A
anim = 747
ctrl = 0

[State 767, 1]
type = PlaySnd
trigger1 = time = 1
value = 3,0

[State 767, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 10

[State 767, 3]
type = VelSet
trigger1 = Time >= 0
trigger1 = Pos Y > -110
y = -5

[State 767, 4]
type = VelSet
trigger1 = Pos Y <= -110
y = 0

[State 767, 5]
type = PosSet
trigger1 = Pos Y <= -110
y = -110

[State 767, 6]
type = VarSet
trigger1 = Pos Y = -110
var(12) = 1

[State 767, 7]
type = ChangeState
trigger1 = Pos Y = -110
value = 0
ctrl = 1

;Fly - going down
[Statedef 777]
type = A
movetype = I
physics = A
anim = 747
ctrl = 0

[State 777, 0]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 777, 1]
type = PlaySnd
trigger1 = Pos Y = 0
value = 3,9

[State 777, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 10

[State 777, 3]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 777, 4]
type = VelSet
trigger1 = Pos Y = 0
y = 0

[State 777, 5]
type = ChangeState
trigger1 = Pos Y = 0
value = 0
ctrl = 1

[State 777, 6]
type = VelSet
trigger1 = Time >= 0
y = 5

[Statedef -2]

[State -2]
type = PlaySnd
trigger1 = var(9) = 0
trigger1 = GetHitVar(fall) = 1
trigger1 = GetHitVar(hitcount) < 2
trigger1 = time = 0
trigger1 = alive = 1
value = 3,2

[State -2]
type = varset
trigger1 = GetHitVar(fall) = 1
trigger1 = time = 1
trigger1 = alive = 1
var(9) = 1

[State -2]
type = varset
trigger1 = stateno < 5000
trigger1 = time = 1
trigger1 = alive = 1
var(9) = 0

[State -2]
type = PlaySnd
trigger1 = LoseKO
trigger1 = time = 1
trigger1 = var(10) = 0
value = 3,11

[State -2]
type = varset
trigger1 = LoseKO
trigger1 = time = 1
var(10) = 1

[State -2]
type = varadd
trigger1 = var(17) = 1
v = 18
value = 1

[State -2]
type = varset
trigger1 = var(18) = 480
var(17) = 0

[State -2]
type = varset
trigger1 = var(18) = 480
var(20) = 0

[State -2]
type = varset
trigger1 = var(18) = 480
var(18) = 0

[State -2, 2.6]
type = afterimagetime
trigger1 = stateno >= 5000
trigger1 = var(57) = 0
trigger1 = var(58) = 0
value = 0

[State -2, 2.7]
type = afterimagetime
trigger1 = stateno != 100
trigger1 = var(57) = 1
value = 0

[State -2, 2.7]
type = afterimagetime
trigger1 = stateno != 105
trigger1 = var(58) = 1
value = 0

[State -2, 2.7]
type = varset
trigger1 = stateno != 100
trigger1 = var(57) = 1
var(57) = 0

[State -2, 2.7]
type = varset
trigger1 = stateno != 105
trigger1 = var(58) = 1
var(58) = 0