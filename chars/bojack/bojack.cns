; Player's constants.
; Format (case insensitive):
;  [groupname]        
;  constname = "value"

[Data]
life = 1000          ;Amount of life to start with
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 60    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 2        ;Default spark number
guard.sparkno = 40 ;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 0           ;Volume offset (negative for softer)

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 15    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   

[Velocity]
walk.fwd  = 2.3      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 4.6, 0    ;Run forward (x, y)  - if y<0, player will hop
run.back = -4.5,-3.8 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-8.1    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55,-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5,-8.1    ;.

[Movement]
airjump.num = 1      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

[State 180, 2]
type = PlaySnd
trigger1 = Time = 60
value = 3,3

;---------------------------------------------------------------------------
; WIN1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 181, 2]
type = PlaySnd
trigger1 = Time = 60
loop = 2
channel = 0
value = 3,3

;[State 181, 3]
;type = StopSnd
;trigger1 = Time = 220
;channel = 0

;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 191, 1]
type = powerset
trigger1 = time = 0
value = 0

;Exhausted/Tired
[Statedef 5300]
type = S
ctrl = 0
velset = 0,0,0
anim = 5305

[State 5300, 1]
type = Changestate
trigger1 = Time >= 160
value = 0
ctrl = 1

;--------------------------------------------------------------------------------
; PUNCH_A
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 5
ctrl = 0
velset = 0,0,0
anim = 200

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,8

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 45
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = 0,-70
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 200, 3]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 200, 4]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, 6]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

;---------------------------------------------------------------------------
; STAND_B
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 5
ctrl = 0
velset = 0,0,0
anim = 210

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 45
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkxy = -25,-85
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 210, 3]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 210, 4]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 6]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

; Bicycle_Smash
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 18
poweradd= -100
ctrl = 0
velset = 0,0
anim = 250

[State 250, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 8

[State 250, 2]
type = HitDef
trigger1 = time = 20        ;AnimElem = 2
attr = S, SA
animtype  = Medium
damage    = 100,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
numhits = 1
sparkxy = 0,-50
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 250, 3]
type = HitDef
trigger1 = time = 30        ;AnimElem = 1
attr = S, SA
animtype  = Medium
damage    = 100,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
numhits = 2
sparkxy = 0,-50
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 250, 4]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 40

[State 250, 5]
type = VelSet
trigger1 = AnimTime != 0
x = 4

[State 250, 6]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 250, 7]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 250, 8]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 250, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 250, 10]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

;---------------------------------------------------------------------
; Thrash_Hammer
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 260
poweradd = -70

[State 260, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage    = 70,20
animtype = Light
getpower = 0
givepower = 0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7,8
numhits = 1
sparkno = 0
sparkxy = 0,0
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
airguard.velocity = -1.9    
air.velocity = -1.3,-3

[State 260, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 25

[State 260, 3]
type = VelSet
trigger1 = AnimTime != 0
x = 4

[State 260, 4]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 260, 5]
type = PlaySnd
trigger1 = Time = 0
value = 3, 8

[State 260, 6]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 260, 7]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 260, 8]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 260, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; Dash_Kneelift
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 11
velset = 0,0
ctrl = 0
anim = 270
poweradd = -80

[State 270, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage    = 70,25
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7,8
numhits = 1
sparkno = 0
sparkxy = 0, -60
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
airguard.velocity = -1.9    
air.velocity = -1.3,-3

[State 270, 2]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 270, 3]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 270, 4]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 270, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 275
ctrl = 0

; Dash_Kneelift2
[Statedef 275]
type    = S
movetype= A
physics = S
juggle  = 11
poweradd= 0
ctrl = 0
velset = 0,0
anim = 275

[State 275, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 7

[State 275, 2]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Medium
damage    = 140,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
numhits = 1
sparkxy = 0,-60
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 275, 3]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 75

[State 275, 4]
type = VelSet
trigger1 = Time < 75
x = 4

[State 275, 5]
type = VelSet
trigger1 = Time = 75
x = 0

[State 275, 6]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 275, 7]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 275, 8]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

[State 275, 9]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

;Energy_Shot
[Statedef 280]
type     = S
movetype = A
physics  = S
poweradd = -100
juggle = 1
anim = 280
ctrl = 0
velset = 0,0,0

[State 280, 1]
type = Projectile
trigger1 = time = 2
Projanim = 1004
ProjHitAnim = 1006
ProjRemAnim = 1008
projpriority = 2
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 70,20
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3
fall = 1

[State 280, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3,6

[State 280, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 280, 4]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = Time = 60
trigger1 = var(12) = 0
y = 0

[State 280, 5]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = Time = 60
trigger1 = var(12) = 1
y = -90

[State 280, 6]
Type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;Energy_Bullet
[Statedef 300]
type     = S
movetype = A
physics  = S
poweradd = -100
juggle = 1
anim = 300
ctrl = 0
velset = 0,0,0

[State 300, 1]
type = Projectile
trigger1 = time = 2
Projanim = 310
ProjHitAnim = 1017
ProjRemAnim = 1008
projpriority = 2
;offset 25,-56
velocity = 2,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, SP
animtype = Medium
damage = 70,20
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 300, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3,6

[State 300, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 300, 4]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 300, 5]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 300, 6]
Type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

; Charge
[Statedef 330]
type    = S
movetype= I
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 330
poweradd = 0

[State 330, 1]
type = Poweradd
trigger1 = Time >= 0
value = 2

[State 330, 2]
type = PlaySnd
trigger1 = Time%29 = 0
trigger1 = Stateno = 330
channel = 0
value = 3,3

[State 330, 3]
type = PosSet
trigger1 = var(12) = 0
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
y = 0

[State 330, 4]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
y = -90

[State 330, 5]
type = StopSnd
trigger1 = command != "Charge"
trigger2 = power = 3000
channel = 0

[State 330, 6]
type = ChangeState
trigger1 = command != "Charge"
trigger2 = power = 3000
value = 0
ctrl = 1

;Grand_Smasher
[Statedef 360]
type     = S
movetype = A
physics  = S
juggle = 20
anim = 360
poweradd = -1399
ctrl = 0
velset = 0

[State 360, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,5

[State 360, 2]
type = Projectile
trigger1 = time = 80
Projanim = 370
ProjHitAnim = 390       ;4005
ProjRemAnim = 1008
projpriority = 10
;offset 25,-56
velocity = 3,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, HP
animtype = Medium
damage = 15,5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
projhits = 30
sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 360, 3]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = Time = 160
trigger1 = var(12) = 0
y = 0

[State 360, 4]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = Time = 160
trigger1 = var(12) = 1
y = -90

[State 360, 5]
type = ChangeState
trigger1 = time = 160
trigger1 = power = 0
value = 5300
ctrl = 0

[State 360, 6]
Type = ChangeState
trigger1 = time = 160
value = 0
ctrl = 1

;CROUCH_A
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 5
ctrl = 0
anim = 400

[State 400, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 8

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-45
sparkno = 1
hitsound   = 5,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 400, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 400, 4]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 400, 5]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 5
ctrl = 0
anim = 410

[State 410, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 410, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-10
sparkno = 1
hitsound   = 5,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 410, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 410, 4]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
y = 0

[State 410, 5]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
y = -90

[State 410, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1

; Kick_Y
[Statedef 415]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -30
ctrl = 0
velset = 0,0,0
anim = 415

[State 415, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 415, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 2,5    ;2,10
numhits = 1
sparkxy = 0,-55
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 415, 3]
type = PosSet
trigger1 = var(12) = 0
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
y = 0

[State 415, 4]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
y = -90

[State 415, 5]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 1

[State 415, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Kick_Y2
[Statedef 416]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -30
ctrl = 0
velset = 0,0,0
anim = 416

[State 416, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,8

[State 416, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
numhits = 1
pausetime = 2,5    ;2,10
sparkxy = -25,-85
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 416, 3]
type = PosSet
trigger1 = var(12) = 0
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
y = 0

[State 416, 4]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
y = -90

[State 416, 5]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 1

[State 416, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; PUNCH_X
[Statedef 425]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -30
ctrl = 0
velset = 0,0,0
anim = 425

[State 425, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,8

[State 425, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
numhits = 1
pausetime = 2,5    ;2,10
sparkxy = 0,-75
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 425, 3]
type = PosSet
trigger1 = var(12) = 0
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
y = 0

[State 425, 4]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
y = -90

[State 425, 5]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 1

[State 425, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Punch_X2
[Statedef 426]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -30
ctrl = 0
velset = 0,0,0
anim = 426

[State 426, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 426, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 2,5    ;2,10
numhits = 1
sparkxy = 0,-75
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 5     ;1
ground.velocity = 0
air.velocity = 0

[State 426, 3]
type = PosSet
trigger1 = var(12) = 0
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
y = 0

[State 426, 4]
type = PosSet
trigger1 = var(12) = 1
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
y = -90

[State 426, 5]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 1

[State 426, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Galactic_Buster
[Statedef 500]
type    = S
movetype= I
physics = S
juggle  = 1
poweradd = -2299
ctrl = 0
velset = 0,0,0
anim = 500

[State 500, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3,4

[State 500, 2]
type = ChangeState
trigger1 = Time = 30
value = 510
ctrl = 0

[State 500, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

; Galactic_Buster2
[Statedef 510]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
velset = 0,0,0
anim = 510

[State 510, 1]
type = ChangeState
trigger1 = Time = 30
value = 520
ctrl = 0

[State 510, 2]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

; Galactic Buster3
[Statedef 520]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
velset = 0,0,0
anim = 520

[State 520, 1]
type = ChangeState
trigger1 = Time = 25
value = 530
ctrl = 0

[State 520, 2]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

; Galactic Buster 4
[Statedef 530]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0,0
anim = 530

[State 530, 1]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = Time >= 80
trigger1 = var(12) = 0
y = 0

[State 530, 2]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = Time >= 80
trigger1 = var(12) = 1
y = -90

[State 530, 3]
Type = ChangeState
trigger1 = time >= 80
value = 0
ctrl = 1

[State 530, 4]
type = HitDef
trigger1 = time >= 0
trigger1 = var(32) <= 48
attr = S, HA
animtype  = Hard
damage    = 15,5
getpower = 0
givepower = 0
guardflag = MA
pausetime = 2,2
sparkno = -1
sparkxy = -5,-10
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
air.velocity = -2.2,-3.2

[State 530, 5]
type = varset
trigger1 = 1
var(42) = var(32)

[State 530, 6]
type = varset
trigger1 = movecontact = 1
var(32) = var(42) + 1

[State 530, 7]
type = VarSet
trigger1 = movecontact = 1
var(22) = 1

[State 530, 8]
type = Explod
trigger1 = time = 79
trigger1 = var(22) = 1
anim = 390
pos = (P2BodyDist X), (P2BodyDist Y)
postype = p1
removetime = -2
vel = 0.7,0
ontop = 1

[State 530, 9]
type = VarSet
trigger1 = time = 79
var(22) = 0

[State 530, 10]
type = VarSet
trigger1 = time = 79
var(32) = 0

[State 530, 11]
type = VarSet
trigger1 = time = 79
var(42) = 0

;---------------------------------------------------------------------------
;JUMP_B
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 5
ctrl = 0
anim = 610

[State 610, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 610, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 45
getpower  = 0
givepower = 0
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = 0,-51
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 610, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
trigger3 = var(12) = 1
trigger3 = Pos Y >= -90
x = 0
y = 0

[State 610, 5]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
y = 0

[State 610, 6]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
trigger2 = var(12) = 1
trigger2 = Pos Y >= -90
y = -90

[State 610, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(12) = 0
trigger2 = Pos Y >= 0
trigger2 = var(12) = 0
value = 50
ctrl = 1

[State 610, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(12) = 1
trigger2 = var(12) = 1
trigger2 = Pos Y >= -90
value = 0
ctrl = 1

;Throw
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 900

[State 900, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 1
damage = 125
getpower = 0
givepower = 0
sparkno = -1
snap = 0,-28,0,-28
P1facing = 1
p2facing = 1
p1stateno = 910
p2stateno = 920
sprpriority = -1

[State 900, 2]
type = ChangeState
trigger1 = Time = 16
value = 0
ctrl = 1

[State 900, 3]
type = ChangeState
trigger1 = movecontact = 1
value = 910

;---------------------------------------------------------------------------
;P1 Throw
[Statedef 910]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 910

;[State 910, 1]
;type = TargetBind
;Trigger1 = Time = 0

[State 910, 2]
type = PlaySnd
trigger1 = time = 24
value = 3,8

[State 910, 3]
type = Turn
trigger1 = AnimTime = 0

[State 910, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;P2 Thrown
[Statedef 920]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 920, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 920

[State 920, 2]
type = turn
trigger1 = AnimElem = 2

[State 920, 3]
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = Pos Y >= -20
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 920, 4]
type = VelSet
trigger1 = Time = 0
x = .25
y = -.25

[State 920, 5]
type = VelSet
trigger1 = Time = 40
x = -10
y = 3

[State 920, 6]
type = VelSet
trigger1 = Time >= 40
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 920, 7]
type = PosSet
trigger1 = Pos Y >= 0
trigger1 = Time >= 40
y = 0

[State 920, 8] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 920, 9] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 920, 10] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = time = 65
value = 5100 ;Hit ground

;[State 920, 11]
;type = SelfState
;trigger1 = Time = 65
;value = 5050   ;5100 5200 5070 5150 5120 5110
;ctrl = 1

;[State 920, 12]
;type = ChangeState
;trigger1 = Time = 65
;value = 5050     ;5100 5200 5070 5150 5120 5110
;ctrl = 1

;---------------------------------------------------------------------------
;Standfire_a
[Statedef 1000]
type     = S
movetype = A
physics  = S
poweradd = -100
juggle = 1
anim = 1000
ctrl = 0
velset = 0,0,0

[State 1000, 1]
type = Projectile
trigger1 = time = 2
Projanim = 1005
ProjHitAnim = 1006
ProjRemAnim = 1008
projpriority = 1
;offset 25,-56
velocity = 4,0
remvelocity = .7,0
velmul = 1.005,1
accel =0,0
attr = S, NP
animtype = Medium
damage = 110,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0,0
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -4
air.type = low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1000, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3,6

[State 1000, 3]
type = PosSet
trigger1 = Pos Y != 0
trigger1 = Time = 60
trigger1 = var(12) = 0
y = 0

[State 1000, 4]
type = PosSet
trigger1 = Pos Y != -90
trigger1 = Time = 60
trigger1 = var(12) = 1
y = -90

[State 1000, 5]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1000, 6]
Type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;Fly
[Statedef 747]
type = A
movetype = I
physics = A
anim = 747
ctrl = 0

[State 747, 1]
type = ChangeState
trigger1 = Time >= 0
trigger1 = var(12) = 0
value = 767

[State 747, 2]
type = ChangeState
trigger1 = Time >= 0
trigger1 = var(12) = 1
value = 777

[State 747, 3]
type = ChangeState
trigger1 = time >= 5
value = 0
ctrl = 1

;Fly - going up
[Statedef 767]
type = S
movetype = I
physics = S
anim = 747
ctrl = 0

[State 767, 1]
type = PlaySnd
trigger1 = time = 1
value = 3,6

[State 767, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 10

[State 767, 3]
type = VarSet
trigger1 = Pos Y <= -90
var(12) = 1

[State 767, 4]
type = VelSet
trigger1 = Pos Y <= -90
y = 0

[State 767, 5]
type = PosSet
trigger1 = Pos Y <= -90
y = -90

[State 767, 6]
type = ChangeState
trigger1 = Pos Y = -90
value = 0
ctrl = 1

[State 767, 7]
type = VelSet
trigger1 = Time >= 0
y = -5

;Fly - going down
[Statedef 777]
type = S
movetype = I
physics = S
anim = 747
ctrl = 0

[State 777, 1]
type = PlaySnd
trigger1 = Pos Y = 0
value = 3,9

[State 777, 2]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 10

[State 777, 3]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 777, 4]
type = VarSet
trigger1 = Pos Y = 0
var(12) = 0

[State 777, 5]
type = VelSet
trigger1 = Pos Y = 0
y = 0

[State 777, 6]
type = ChangeState
trigger1 = Pos Y = 0
value = 0
ctrl = 1

[State 777, 7]
type = VelSet
trigger1 = Time >= 0
y = 5